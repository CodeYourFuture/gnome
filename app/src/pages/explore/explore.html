<ion-header>
  <ion-navbar>
    <ion-title *ngIf="inExplore">
      Explore
    </ion-title>
    <ion-buttons end>
      <button ion-button *ngIf="!inExplore" (click)="exitExploreFeed($event)">Back</button>
    </ion-buttons>
    <ion-searchbar *ngIf="!inExplore" [(ngModel)]="searchString" (change)="onSearch($event)" (ionClear)="clearSearch($event)"
      type="text" placeholder="Food, Art, Other">
    </ion-searchbar>
  </ion-navbar>
</ion-header>


<ion-content class="feed-tab background">
  <div *ngIf="inExplore">
    <h3 class="title">Explore Impossible</h3>
    <div class="interest-picker">
      <ion-slides pager>
        <ion-slide>
          <ul class="picker">
            <li *ngFor="let interest of interests;" class="picker-item">
              <button ion-button block full class="button suggest-interest" [ngStyle]="{'background-image': getImage(interest)}" (click)="getExploreFeed($event)">
                      <span class="button-inner">{{ interest.name }}</span>
              </button>
            </li>
          </ul>

          <div class="suggestion-block">
            <button ion-button block large outline light class="suggest-interest button-outline-light" (click)="randomExplore($event)">
              Surprise me
            </button>
          </div>
        </ion-slide>
      </ion-slides>
    </div>
  </div>
  
  <div *ngIf="!inExplore && !loading && feed.length === 0" class="no-feed">
    <h3 class="title">There are no posts for {{interest}}</h3>
    <h3 class="title">Try another interest</h3>
  </div>

  <ion-list [virtualScroll]="feed" [hidden]="inExplore || loading || feed.length === 0" no-lines class="background" approxItemHeight="400px">
    <ion-item *virtualItem="let post" class="background">
      <post-card [post]="post"></post-card>
    </ion-item>
  </ion-list>
</ion-content>